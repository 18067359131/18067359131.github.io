<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="试题,数据库,">










<meta name="description" content="J2-1《建设工程监管信息系统》系统权限管理模块任务一：创建数据库（10 分）创建数据库 ConstructionDB。任务二：创建数据表（25 分）根据图 2.1.2 和表 2.1.1，创建数据表 T_user、T_func_item、T_func_role_def 及两个关系表（关系表的名字自拟）。任务三：创建数据表间的关系及约束（15 分）根据物理数据原型，创建数据关系表。任务四：数据操作（">
<meta name="keywords" content="试题,数据库">
<meta property="og:type" content="article">
<meta property="og:title" content="模块二 数据库设计">
<meta property="og:url" content="https://18067359131.github.io/2019/09/18/模块二  数据库设计/index.html">
<meta property="og:site_name" content="不是山谷">
<meta property="og:description" content="J2-1《建设工程监管信息系统》系统权限管理模块任务一：创建数据库（10 分）创建数据库 ConstructionDB。任务二：创建数据表（25 分）根据图 2.1.2 和表 2.1.1，创建数据表 T_user、T_func_item、T_func_role_def 及两个关系表（关系表的名字自拟）。任务三：创建数据表间的关系及约束（15 分）根据物理数据原型，创建数据关系表。任务四：数据操作（">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-10-07T05:08:33.373Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="模块二 数据库设计">
<meta name="twitter:description" content="J2-1《建设工程监管信息系统》系统权限管理模块任务一：创建数据库（10 分）创建数据库 ConstructionDB。任务二：创建数据表（25 分）根据图 2.1.2 和表 2.1.1，创建数据表 T_user、T_func_item、T_func_role_def 及两个关系表（关系表的名字自拟）。任务三：创建数据表间的关系及约束（15 分）根据物理数据原型，创建数据关系表。任务四：数据操作（">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://18067359131.github.io/2019/09/18/模块二  数据库设计/">





  <title>模块二 数据库设计 | 不是山谷</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">不是山谷</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">你不是山谷，所以我不怪你，没有回音。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://18067359131.github.io/2019/09/18/模块二  数据库设计/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="山谷">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/725f8fcc9a8f418596015e397d26f477!400x400.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不是山谷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">模块二 数据库设计</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-18T21:21:23+08:00">
                2019-09-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/学习/" itemprop="url" rel="index">
                    <span itemprop="name">学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="J2-1《建设工程监管信息系统》系统权限管理模块"><a href="#J2-1《建设工程监管信息系统》系统权限管理模块" class="headerlink" title="J2-1《建设工程监管信息系统》系统权限管理模块"></a>J2-1《建设工程监管信息系统》系统权限管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 ConstructionDB。<br>任务二：创建数据表（25 分）<br>根据图 2.1.2 和表 2.1.1，创建数据表 T_user、T_func_item、T_func_role_def 及两个关系表（关系表的名字自拟）。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据关系表。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•在 T_user 表插入数据“id01，刘德华，123  KBB  5678900，湖南长沙，13899005678，<br>ldh123，admin”；<br>•查询出所属部门为“KBB”的操作员的基本信息；<br>•查询出姓名为“刘德华”的操作员具有哪些功能权限；<br>•查询出“投标责任人”角色所拥有的功能；<br>•创建视图查询操作员的姓名，密码和所属部门；<br>•创建存储过程，查询指定操作员所具有的功能权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">create database ConstructionDB1</span><br><span class="line">ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;constructionDB1.mdf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-1\constructionDB1.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">LOG ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;constructionSB1.ldf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-1\construcyionDB1.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">USE ConstructionDB1 ;    /*进入库*/</span><br><span class="line"></span><br><span class="line">/*创建T-user*/</span><br><span class="line">CREATE TABLE T_user(                      /*操作员基本信息表*/</span><br><span class="line">User_Id CHAR(4) NOT NULL PRIMARY KEY,     /*用户主键*/</span><br><span class="line">User_name CHAR(16) NOT NULL ,             /*用户密码*/</span><br><span class="line">User_passwd  CHAR(16) NOT NULL,           /*用户密码*/</span><br><span class="line">Dept_id CHAR(3) NOT NULL,                 /*所属部门*/</span><br><span class="line">Telephone VARCHAR(16),                    /*联系电话*/</span><br><span class="line">Address VARCHAR(32) DEFAULT&apos;地址不详&apos;,   /*联系地址*/</span><br><span class="line">Handphone  VARCHAR(16),                   /*手机号码*/</span><br><span class="line">Usb_no  VARCHAR(64) NOT NULL ,            /*密码锁号*/ </span><br><span class="line">Reserve  VARCHAR(64)                      /*备注*/</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">/*创建T_funct_role_def*/</span><br><span class="line">CREATE TABLE T_funct_role_def( /*功能角色定义表*/</span><br><span class="line">Func_role_id CHAR(3)  PRIMARY KEY, /*功能角色ID 主键*/</span><br><span class="line">Func_role_name VARCHAR(32) NOT NULL,/*功能角色名称*/</span><br><span class="line">Reserve VARCHAR(64)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">/*创建T_func_item*/</span><br><span class="line">CREATE TABLE T_func_item( /*一级功能权限表*/</span><br><span class="line">Func_id CHAR(3) PRIMARY KEY, /*功能角色ID 主键*/</span><br><span class="line">Func_name VARCHAR(32) NOT NULL, /*功能名称*/</span><br><span class="line">Reserve VARCHAR(64)       /*备注*/</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line">/*两张关系表*/</span><br><span class="line">CREATE TABLE T_User_Role(           /*功能角色定义表_操作员基本信息表的关联表*/</span><br><span class="line">User_id CHAR(4) NOT NULL,           /*用户ID*/</span><br><span class="line">Func_role_id CHAR(3) NOT NULL,     /*角色ID*/</span><br><span class="line">PRIMARY KEY(User_id,Func_role_id)  /*复合主键*/</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TABLE T_Role_func(  /*功能角色定义表_一级功能权限定义表的关联表*/</span><br><span class="line">Func_id CHAR(3) NOT NULL , /*功能ID*/</span><br><span class="line">Func_role_id CHAR(3) NOT NULL, /*角色ID*/</span><br><span class="line">PRIMARY KEY(Func_id,Func_role_id) /*复合主键*/</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">/*添加约束*/</span><br><span class="line">/*一级功能权限_功能角色定义关系表_功能角色定义表 外键约束*/</span><br><span class="line">alter table T_Role_func/*一级功能权限_功能角色定义关系表*/</span><br><span class="line">add constraint FK_role_func_3 foreign key(Func_id) </span><br><span class="line">references T_func_item(Func_id)/*一级功能权限定义表*/</span><br><span class="line">on update cascade on delete cascade;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">alter table T_Role_func/*一级功能权限_功能角色定义关系表*/</span><br><span class="line">add  constraint FK_role_func_4 foreign key(Func_role_id) </span><br><span class="line">references  T_funct_role_def(Func_role_id) </span><br><span class="line">on delete cascade on update cascade;</span><br><span class="line"></span><br><span class="line">/*一级功能权限表（T_User_item ） 功能角色定义表_操作员基本信息表的关联表（T_User_Role 外键）*/</span><br><span class="line">ALTER TABLE  T_User_Role  /*功能角色定义_操作员基本信息关联表 外键*/</span><br><span class="line">ADD CONSTRAINT T_User_Role_2 FOREIGN KEY(User_id)      REFERENCES T_user(User_Id)/*操作员基本信息表*/</span><br><span class="line">ON DELETE CASCADE ON UPDATE CASCADE;/*级联更新/删除*/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ALTER TABLE  T_User_Role</span><br><span class="line">ADD CONSTRAINT T_User_Role_3 FOREIGN KEY(Func_role_id) </span><br><span class="line">REFERENCES T_funct_role_def(Func_role_id)    </span><br><span class="line">ON DELETE CASCADE ON UPDATE CASCADE;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*插入数据*/</span><br><span class="line">INSERT INTO T_user VALUES(&apos;id01&apos;,&apos;刘德华&apos;,&apos;123&apos;,&apos;KBB&apos;,&apos;5678900&apos;,&apos;湖南长沙&apos;,&apos;13899005678&apos;,&apos;ldh123&apos;,&apos;admin&apos;);</span><br><span class="line"></span><br><span class="line">/*查询数据*/</span><br><span class="line">SELECT * FROM T_user WHERE dept_id=&apos;KBB&apos;;</span><br><span class="line"></span><br><span class="line">/*查询出姓名为“刘德华”的操作员具有哪些功能权限*/</span><br><span class="line">SELECT User_name AS 姓名,Func_Name AS 功能权限 FROM</span><br><span class="line">T_User AS a ,T_funct_role_def AS b,T_func_item AS c,T_User_Role AS d,T_Role_func e</span><br><span class="line">WHERE   a.User_Id=d.User_id AND </span><br><span class="line">        b.Func_role_id =d.Func_role_id AND  </span><br><span class="line">        b.Func_role_id =e.Func_role_id AND  </span><br><span class="line">        c.Func_id = e.Func_id AND   User_name =&apos;刘德华&apos;</span><br><span class="line"></span><br><span class="line">--查询出“投标责任人”角色所拥有的功能</span><br><span class="line">select Func_name as 功能名 from dbo.T_func_item,dbo.T_funct_role_def</span><br><span class="line">where Func_id=Func_role_id and Func_name=&apos;投标负责人&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*创建视图查询操作员的姓名，密码和所属部门*/</span><br><span class="line">go</span><br><span class="line">create view view_1</span><br><span class="line">as</span><br><span class="line">select User_name,User_passwd,Dept_id from  T_user;</span><br><span class="line">go</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--。</span><br><span class="line">-- =============================================</span><br><span class="line">-- Author:		&lt;Author,,Name&gt;</span><br><span class="line">-- Create date: &lt;Create Date,,&gt;</span><br><span class="line">-- Description:	&lt;创建存储过程，查询指定操作员所具有的功能权限,,&gt;</span><br><span class="line">-- =============================================</span><br><span class="line">CREATE PROCEDURE proUserFunc</span><br><span class="line">	@User_name char(16)</span><br><span class="line">	</span><br><span class="line">AS</span><br><span class="line">BEGIN</span><br><span class="line">	select User_Id from dbo.T_user where User_name=@User_name</span><br><span class="line">END</span><br><span class="line">GO</span><br></pre></td></tr></table></figure>

<h2 id="J2-2《建设工程监管信息系统》流程管理模块"><a href="#J2-2《建设工程监管信息系统》流程管理模块" class="headerlink" title="J2-2《建设工程监管信息系统》流程管理模块"></a>J2-2《建设工程监管信息系统》流程管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 ConstructionDB。<br>任务二：创建数据表（25 分）<br>根据图 2.2.2 和表 2.2.1，创建数据表 T_flow_step_def、T_flow_type、T_sub_project。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据关系表。<br>•    标段编号字段默认为  0；<br>•    招标方式代号只能为 1 或者 2，其中 1 表示“公开”,2 表示“邀请”；<br>•    项目选项代号只能为 1、2、3 之一，其中 1 表示“招标”，2 表示“直接发包”；3表示“违补”；<br>•    发包方式字段默认为 0；<br>•    完成标志字段默认为 0；<br>•    强制中断标志字段默认为 0。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•在 T_flow_step_def 表中插入数据：“1，中标公示，公示中标情况，30，<a href="http://localhost:8080/stepmenu.jsp，在规定时间内如有异议则请联系我们”；" target="_blank" rel="noopener">http://localhost:8080/stepmenu.jsp，在规定时间内如有异议则请联系我们”；</a><br>•查询出招标方式代号为“1”的所有标段情况信息；<br>•查询出所有完成标志为“0”的标段情况信息；<br>•查询出流程类别名称为“开标”的所有标段情况；<br>•创建视图查询所有的流程的步骤名称、流程步骤描述及流程类别名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">create database ConstructionDB</span><br><span class="line">ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;constructionDB.mdf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-2\constructionDB.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">LOG ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;constructionSB.ldf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-2\construcyionDB.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--创建T_flow_step_def</span><br><span class="line">create table T_flow_step_def(</span><br><span class="line">step_no integer not null primary key,--流程步骤ID</span><br><span class="line">step_name varchar(30) not null ,--流程步骤名称</span><br><span class="line">step_des varchar(64) not null ,--流程步骤描述</span><br><span class="line">limlt_time integer not null , --时限</span><br><span class="line">url varchar(64) not null , --二级菜单链接</span><br><span class="line">reserve varchar(256) ,--备注</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">--创建T_flow_type</span><br><span class="line">create table T_flow_type(</span><br><span class="line">flow_type_id char(3) not null primary key, --流程类别号</span><br><span class="line">flow_type_name varchar(64) not null, --流程类别名称</span><br><span class="line">in_method_id char(3) not null,	--招标方式代号</span><br><span class="line">in_choice_id  char(3),--项目选项代号</span><br><span class="line">reserve varchar(256) ,--备注</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">--创建T_sub_project</span><br><span class="line">create table T_sub_project(</span><br><span class="line">project_id	varchar(32) not null ,--工程编号</span><br><span class="line">sub_pro_id	char(2) not null ,--标段编号</span><br><span class="line">flow_type_id char(3) not null	,--流程类别号</span><br><span class="line">esub_pro_name varchar(64) not null	,--标段名称</span><br><span class="line">usb_no varchar(64)	 not null,--密码锁号</span><br><span class="line">in_method_id char(3) null	,--招标方式代号</span><br><span class="line">in_scope_id	char(3)	 null	,--招标范围代号</span><br><span class="line">in_choice_id char(3) null	,--项目选项代号</span><br><span class="line">proj_type_id char(3) null	,--项目性质代号</span><br><span class="line">engi_type_id char(3) null	,--工程性质代号</span><br><span class="line">pack_type char(1) null	,--发包方式</span><br><span class="line">grade_type_id char(1) null	,--评分类别号</span><br><span class="line">flag_done char(1) null	,--完成标志</span><br><span class="line">flag_forcebreak char(1)	 null,--强制中断标志</span><br><span class="line">reserve varchar(256)  null,	--备注</span><br><span class="line">primary key(project_id,sub_pro_id)</span><br><span class="line">);</span><br><span class="line">alter table T_sub_project</span><br><span class="line">with check</span><br><span class="line">add foreign key(flow_type_id)references T_flow_type(flow_type_id)</span><br><span class="line"></span><br><span class="line">--创建关系表</span><br><span class="line">create table T_flow_procedur(</span><br><span class="line">step_no integer not null,--流程步骤ID</span><br><span class="line">flow_type_id char(3) not null,--流程类别号</span><br><span class="line">serial_no int null,--流程顺序号</span><br><span class="line">limit_time int null,--时限</span><br><span class="line">reserve varchar(256)  null,	--备注</span><br><span class="line">primary key(step_no,flow_type_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">alter table T_flow_procedur</span><br><span class="line">with check</span><br><span class="line">add foreign key(step_no) references T_flow_step_def(step_no)</span><br><span class="line">alter table T_flow_procedur</span><br><span class="line">with check</span><br><span class="line">add foreign key(flow_type_id)references T_flow_type(flow_type_id)</span><br><span class="line"></span><br><span class="line">--标段编号字段默认为0</span><br><span class="line">use ConstructionDB</span><br><span class="line">go</span><br><span class="line">alter table dbo.T_sub_project</span><br><span class="line">add constraint DF_T_sub_project_sub_pro_id default(0)for sub_pro_id</span><br><span class="line"></span><br><span class="line">--招标方式代号只能为 1 或者 2，其中 1 表示“公开”,2 表示“邀请”；</span><br><span class="line">alter table T_flow_type</span><br><span class="line">with check</span><br><span class="line">add constraint in_method_id</span><br><span class="line">check(in_method_id=1|2)</span><br><span class="line"></span><br><span class="line">--项目选项代号只能为 1、2、3 之一，其中 1 表示“招标”，2 表示“直接发包”;3表示“违补”；</span><br><span class="line">use ConstructionDB </span><br><span class="line">go </span><br><span class="line">alter table T_sub_project </span><br><span class="line">add constraint DF_T_sub_project_in_choice_id default(&apos;1,2,3&apos;)for in_choice_id</span><br><span class="line"></span><br><span class="line">--发包方式字段默认为 0；</span><br><span class="line">use ConstructionDB </span><br><span class="line">go </span><br><span class="line">alter table T_sub_project </span><br><span class="line">add constraint DF_T_sub_project_pack_type default((0))for pack_type</span><br><span class="line"></span><br><span class="line">--完成标志字段默认为0；</span><br><span class="line">use ConstructionDB </span><br><span class="line">go </span><br><span class="line">alter table T_sub_project </span><br><span class="line">add constraint DF_T_sub_project_flag_done default((0))for flag_done</span><br><span class="line"></span><br><span class="line">--强制中断标志字段默认为 0。</span><br><span class="line">use ConstructionDB </span><br><span class="line">go </span><br><span class="line">alter table T_sub_project </span><br><span class="line">add constraint DF_T_sub_project_flag_forcebreak default((0))for flag_forcebreak</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--在 T_flow_step_def 表中插入数据：“1，中标公示，公示中标情况，30，http://localhost:8080/stepmenu.jsp，在规定时间内如有异议则请联系我们”；</span><br><span class="line">insert T_flow_step_def values(1,&apos;中标公示&apos;,&apos;公示中标情况&apos;,30,&apos;http://localhost:8080/stepmenu.jsp&apos;,&apos;在规定时间内如有异议则请联系我们&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--查询出招标方式代号为“1”的所有标段情况信息；</span><br><span class="line">select * from T_sub_project where in_method_id=&apos;1&apos;</span><br><span class="line"></span><br><span class="line">--查询出所有完成标志为“0”的标段情况信息；</span><br><span class="line">select * from T_sub_project where flag_done=&apos;0&apos;</span><br><span class="line"></span><br><span class="line">--查询出流程类别名称为“开标”的所有标段情况；</span><br><span class="line">select * from T_flow_type a,T_sub_project b where a.flow_type_id=b.flow_type_id and flow_type_name=&apos;开标&apos;</span><br><span class="line"></span><br><span class="line">--创建视图查询所有的流程的步骤名称、流程步骤描述及流程类别名称</span><br><span class="line">go</span><br><span class="line">create view vm_flow_step</span><br><span class="line">as</span><br><span class="line">select step_name,step_des,flow_type_name from T_flow_step_def as d,dbo.T_flow_procedur as p,T_flow_type as t</span><br><span class="line">where d.step_no=p.step_no and p.flow_type_id=t.flow_type_id</span><br><span class="line">go</span><br></pre></td></tr></table></figure>

<h2 id="J2-3《银行信贷管理系统》客户管理模块"><a href="#J2-3《银行信贷管理系统》客户管理模块" class="headerlink" title="J2-3《银行信贷管理系统》客户管理模块"></a>J2-3《银行信贷管理系统》客户管理模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">create database BankCreditloanDB</span><br><span class="line">ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;bankcreditloanDB.mdf&apos;,</span><br><span class="line">	FILENAME=&apos;D:\SQL\J2-3\bankcreditloanDB.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">LOG ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;constructionSB.ldf&apos;,</span><br><span class="line">	FILENAME=&apos;D:\SQL\J2-3\bankcreditloanDB.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use BankCreditloanDB</span><br><span class="line">--创建T_customer_info</span><br><span class="line">create table T_customer_info(</span><br><span class="line">cust_id char(10) not null ,--客户编号</span><br><span class="line">cust_name varchar(60) not null ,--客户名称</span><br><span class="line">legal_name varchar(10) not null ,--法人代表</span><br><span class="line">reg_address varchar(60) not null ,--注册地址</span><br><span class="line">post_code char(6)--邮政编码</span><br><span class="line">constraint PK_T_customer_info primary key clustered (cust_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">--创建T_cust_credit_level</span><br><span class="line">create table T_cust_credit_level(</span><br><span class="line">cust_id char(10) not null primary key ,--客户编号</span><br><span class="line">credit_level char(9) not null,--信用级别</span><br><span class="line">begin_date datetime ,--评级有效起始日期</span><br><span class="line">end_date datetime ,--评级有效中止日期</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">alter table T_cust_credit_level</span><br><span class="line">with check</span><br><span class="line">add foreign key(cust_id) references T_customer_info(cust_id)</span><br><span class="line"></span><br><span class="line">--创建T_his_cust_credit_level</span><br><span class="line">create table T_his_cust_credit_level(</span><br><span class="line">id int not null ,--序号</span><br><span class="line">cust_id char(10) not null,--客户编号</span><br><span class="line">credit_level char(9) not null,--信用级别</span><br><span class="line">begin_date datetime ,--评级有效起始日期</span><br><span class="line">end_date datetime ,--评级有效中止日期</span><br><span class="line">constraint PK_T_his_cust_credit_level primary key clustered (id)</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line">alter table T_his_cust_credit_level</span><br><span class="line">with check</span><br><span class="line">add foreign key(cust_id) references T_customer_info(cust_id)</span><br><span class="line"></span><br><span class="line">--主外键约束</span><br><span class="line">alter table T_his_cust_credit_level</span><br><span class="line">add constraint FK_T_his_cust_credit_level_customer_info foreign key(cust_id) references T_customer_info(cust_id)</span><br><span class="line"></span><br><span class="line">alter table T_cust_credit_level</span><br><span class="line">add constraint FK_T_cust_credit_level_customer_info foreign key(cust_id) references T_customer_info(cust_id)</span><br><span class="line"></span><br><span class="line">--将信用级别字段默认值设置为“01”</span><br><span class="line">use BankCreditloanDB</span><br><span class="line">go </span><br><span class="line">alter table T_cust_credit_level </span><br><span class="line">add constraint DF_T_cust_credit_level_credit_level default((0))for credit_level</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--根据对逻辑数据模型的理解，分别向三个表中插入一条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line">insert into T_customer_info values(</span><br><span class="line"> &apos;A001B00101&apos;,&apos;李勇军&apos;,&apos;xx公司&apos;,&apos;长沙市雨花区XX路号&apos;,&apos;410001&apos;</span><br><span class="line">)</span><br><span class="line">insert T_cust_credit_level(cust_id,begin_date,end_date) values( &apos;A001B00101&apos;,&apos;2010-01-01&apos;,&apos;2011-12-31&apos;)</span><br><span class="line"></span><br><span class="line">insert T_his_cust_credit_level values( &apos;01&apos;,&apos;A001B00101&apos;,&apos;01&apos;,&apos;2010-01-01&apos;,&apos;2011-12-31&apos;)</span><br><span class="line"></span><br><span class="line">--查询客户名称为“XX 公司”的信用等级（说明：“XX 公司”为插入测试数据中的公司名称）</span><br><span class="line">select credit_level from T_customer_info,T_his_cust_credit_level</span><br><span class="line">where T_customer_info.cust_id=T_his_cust_credit_level.cust_id</span><br><span class="line">and T_customer_info.cust_name=&apos;xx公司&apos;</span><br><span class="line"></span><br><span class="line">--创建视图 V_his_cust_credit_level 用于查询客户的信用级别历史记录，视图列名显示为：客户名称、信用级别、评级有效起始日期、评级有效中止日期；</span><br><span class="line">go</span><br><span class="line">create view V_his_cust_credit_level </span><br><span class="line">as select * from T_his_cust_credit_level</span><br><span class="line">go</span><br><span class="line"></span><br><span class="line">--创建带输入参数的存储过程 P_cust_credit_level，根据输入参数更新客户信用等级表，并将更新前的记录插入到客户信用等级历史表。</span><br><span class="line">create procedure P_cust_credit_level (@cust_id char(10),@credit_lever char(9))</span><br><span class="line">as begin </span><br><span class="line">insert T_his_cust_credit_level(cust_id,credit_level,begin_date,end_date)</span><br><span class="line">select cust_id,credit_level,begin_date,end_date from T_cust_credit_level where cust_id=@cust_id</span><br><span class="line">update T_cust_credit_level set credit_level=@credit_lever where cust_id=@cust_id</span><br><span class="line">end</span><br><span class="line">go</span><br></pre></td></tr></table></figure>

<h2 id="J2-4《银行信贷管理系统》台帐管理模块"><a href="#J2-4《银行信贷管理系统》台帐管理模块" class="headerlink" title="J2-4《银行信贷管理系统》台帐管理模块"></a>J2-4《银行信贷管理系统》台帐管理模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">﻿create database BankCreditloanDB1</span><br><span class="line">ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;bankcreditloanDB1.mdf&apos;,</span><br><span class="line">	FILENAME=&apos;D:\SQL\J2-4\bankcreditloanDB1.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">LOG ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;constructionDB1.ldf&apos;,</span><br><span class="line">	FILENAME=&apos;D:\SQL\J2-4\bankcreditloanDB1.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use BankCreditloanDB1</span><br><span class="line">--创建 T_customer_info</span><br><span class="line">create table T_customer_info(</span><br><span class="line">cust_id char(10) not null ,--客户编号</span><br><span class="line">cust_name varchar(60) not null,--客户名称</span><br><span class="line">legal_name varchar(10) not null ,--法人代表</span><br><span class="line">reg_address varchar(60) not null ,--注册地址</span><br><span class="line">post_code char(6),--邮政编码</span><br><span class="line">constraint PK_T_customer_info primary key clustered (cust_id)</span><br><span class="line">)</span><br><span class="line">--创建T_agency_info</span><br><span class="line">create table T_agency_info(</span><br><span class="line">agency_id char(3) not null  ,--客户经理编号</span><br><span class="line">agency_name varchar(10) not null,--客户经姓名</span><br><span class="line">agency_level char(2) not null,--客户经理级别</span><br><span class="line">agency_phone varchar(20) not null,--工作电话</span><br><span class="line">constraint PK_T_agency_info primary key clustered (agency_id)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--创建T_impawn_info</span><br><span class="line">create table T_impawn_info(</span><br><span class="line">borrow_id char(10) not null ,--借据号</span><br><span class="line">cust_id char(10) references T_customer_info(cust_id) ,--客户编号</span><br><span class="line">agency_id char(3) references T_agency_info(agency_id),--客户经理编号</span><br><span class="line">pawn_goods_name varchar(60),--押物名称</span><br><span class="line">pawn_goods_num int ,--押物数量</span><br><span class="line">contract_date datetime ,--签订日期</span><br><span class="line">constraint PK_T_impawn_info primary key clustered (borrow_id)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--创建约束关系</span><br><span class="line">alter table T_impawn_info</span><br><span class="line">add constraint PK_T_impawn_info_T_customer_info foreign key(cust_id)</span><br><span class="line">references T_customer_info(cust_id)</span><br><span class="line"></span><br><span class="line">alter table T_impawn_info</span><br><span class="line">add constraint PK_T_impawn_info_T_agency_info foreign key(agency_id)</span><br><span class="line">references T_agency_info(agency_id)</span><br><span class="line"></span><br><span class="line">--要求邮政编码由 6 位数字组成。</span><br><span class="line">alter table T_customer_info</span><br><span class="line">with nocheck</span><br><span class="line">add constraint CK_postcode check(LEN(post_code)=6)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--•根据你对逻辑数据模型的理解，分别向三个表中插入一条测试数据（样本数据包含下面题目中使用的数据），其中客户经理编号为“001”；</span><br><span class="line">insert T_agency_info values(&apos;001&apos;,&apos;张三&apos;,&apos;1&apos;,&apos;123254679&apos;)</span><br><span class="line"></span><br><span class="line">insert T_customer_info values( &apos;01&apos;,&apos;xx公司&apos;,&apos;张三&apos;,&apos;长沙市雨花区XX路号&apos;,&apos;410001&apos;)</span><br><span class="line"></span><br><span class="line">insert T_impawn_info values(&apos;1&apos;,&apos;01&apos;,&apos;001&apos;,&apos;xx食品&apos;,&apos;10&apos;,&apos;2019-01-01&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--查询  “XX 公司”质押的物品及数量（说明：“XX 公司”为插入测试数据中的公司名称）；</span><br><span class="line">select pawn_goods_name,pawn_goods_num</span><br><span class="line">from T_impawn_info,T_customer_info</span><br><span class="line">where T_customer_info.cust_id=T_impawn_info.cust_id and cust_name=&apos;xx公司&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--统计每个客户经理所经手的质押业务数，查询结果集应包含字段：客户经理姓名、质押业务数；</span><br><span class="line">select A.cust_name as 客户经理姓名, COUNT(B.cust_id) as质押业务数</span><br><span class="line">from T_customer_info as A inner join T_impawn_info as B</span><br><span class="line">on A.cust_id=B.cust_id</span><br><span class="line">group by A.cust_name,B.cust_id</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--创建存储过程 P_customer_info，删除指定客户编号的客户基本信息，同时也删除该客户在质押信息台帐中的所有记录。</span><br><span class="line">go</span><br><span class="line">create procedure P_customer_info(@cust_id char(10))</span><br><span class="line">as begin </span><br><span class="line">delete T_impawn_info where cust_id=@cust_id</span><br><span class="line">delete T_customer_info where cust_id=@cust_id</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h2 id="J2-5《某电子商务网站》产品管理模块"><a href="#J2-5《某电子商务网站》产品管理模块" class="headerlink" title="J2-5《某电子商务网站》产品管理模块"></a>J2-5《某电子商务网站》产品管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 ProductDB。<br>任务二：创建数据表（25 分）<br>根据图 2.5.2 和表 2.5.1，创建数据表 T_category、T_product_review、T_product，<br>其中产品表的产品 ID(product_id)列设置为标识列，自动从 1 开始增长。<br>任务三：创建数据表间的关系及约束（15 分）<br>•创建主键（三个表均设置）；<br>•产品价格列（Price）只能输入 1-1000 之间的数；<br>•录入时间列(Register_date)默认值为当前录入时间（三个表均设置）。<br>任务四：数据操作（30 分）<br>用 SQL 语句查询出如下数据：<br>•在三个表分别中录入 3 条测试数据（样本数据包含下面题目中使用的数据）；<br>•查询某类别下所有产品；<br>•查询产品价格在 300-500 元之间的产品；<br>•查询录入日期在 2011 年 3 月到 6 月之间的产品数据；<br>•查询产品价格在 90-200 元之间的所有评论；<br>•查询评论数在 1-3 条的所有产品。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">--创建数据库</span><br><span class="line">create database ProductDB</span><br><span class="line"></span><br><span class="line">--使用数据库</span><br><span class="line">use  ProductDB</span><br><span class="line"></span><br><span class="line">--创建数据表</span><br><span class="line">create table T_category(</span><br><span class="line">category_id int primary key IDENTITY(1,1),</span><br><span class="line">category_name varchar(30),</span><br><span class="line">register_date datetime</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_product_review(</span><br><span class="line">review_id int primary key identity(1,1),</span><br><span class="line">product_id int,</span><br><span class="line">review varchar(2000),</span><br><span class="line">register_date datetime</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_product(</span><br><span class="line">product_id int primary key identity(1,1),</span><br><span class="line">category_id int,</span><br><span class="line">product_name varchar(50),</span><br><span class="line">price money,</span><br><span class="line">remark varchar(2000),</span><br><span class="line">register_date datetime</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--任务三：创建数据表间的关系及约束</span><br><span class="line"></span><br><span class="line">alter table T_product_review</span><br><span class="line">add constraint FK_T_product_review_product FOREIGN KEY(product_id) REFERENCES dbo.T_product(product_id)</span><br><span class="line"></span><br><span class="line">alter table dbo.T_product</span><br><span class="line">add constraint FK_T_product_category FOREIGN KEY(category_id) REFERENCES dbo.T_category(category_id)</span><br><span class="line"></span><br><span class="line">--产品价格列（Price）只能输入 1-1000 之间的数；</span><br><span class="line">alter table dbo.T_product</span><br><span class="line">add constraint CK_T_product_price check ([price]&gt;(1)and[price]&lt;(1000))</span><br><span class="line"></span><br><span class="line">--录入时间列(Register_date)默认值为当前录入时间（三个表均设置）。</span><br><span class="line">alter table dbo.T_category</span><br><span class="line">add constraint DF_T_category_register_date default (getdate()) for register_date</span><br><span class="line"></span><br><span class="line">alter table dbo.T_product</span><br><span class="line">add constraint DF_T_product_register_date default (getdate()) for register_date</span><br><span class="line"></span><br><span class="line">alter table dbo.T_product_review</span><br><span class="line">add constraint DF_T_product_review_register_date default (getdate()) for register_date</span><br><span class="line"></span><br><span class="line">--数据操作</span><br><span class="line"></span><br><span class="line">--在三个表分别中录入 3 条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line">insert into dbo.T_category(category_name,register_date) values (&apos;xx1&apos;,&apos;2011-3-1&apos;)</span><br><span class="line"></span><br><span class="line">insert into dbo.T_product(product_name,price,remark,register_date) values (&apos;xx333&apos;,&apos;100&apos;,&apos;xx333&apos;,&apos;2011-5-1&apos;)</span><br><span class="line"></span><br><span class="line">insert into dbo.T_product_review(review,register_date) values (&apos;xx1111&apos;,&apos;2011-5-1&apos;)</span><br><span class="line"></span><br><span class="line">--查询某类别下所有产品；</span><br><span class="line">select * from dbo.T_category where category_id=1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--查询产品价格在 300-500 元之间的产品；</span><br><span class="line">select product_name from dbo.T_product where price between 300 and 500</span><br><span class="line"></span><br><span class="line">--查询录入日期在 2011 年 3 月到 6 月之间的产品数据；</span><br><span class="line">select * from dbo.T_product where YEAR(register_date)=2011 and MONTH(register_date) between 3 and 6</span><br><span class="line"></span><br><span class="line">--查询产品价格在 90-200 元之间的所有评论；</span><br><span class="line">select review from dbo.T_product_review,dbo.T_product where price between 90 and 200</span><br><span class="line"></span><br><span class="line">--查询评论数在 1-3 条的所有产品。</span><br><span class="line">select product_name,price,remark,register_date from dbo.T_product p inner join</span><br><span class="line">(select product_id,COUNT(*) as revcount from dbo.T_product_review</span><br><span class="line">group by dbo.T_product_review.product_id</span><br><span class="line">having COUNT(*)&gt;0 and COUNT(*)&lt;4)t</span><br><span class="line">on p.product_id=t.product_id</span><br></pre></td></tr></table></figure>

<h2 id="J2-6《某电子商务网站》评论管理模块"><a href="#J2-6《某电子商务网站》评论管理模块" class="headerlink" title="J2-6《某电子商务网站》评论管理模块"></a>J2-6《某电子商务网站》评论管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 ProductDB。<br>任务二：创建数据表（25 分）<br>根据图 2.6.2 和表 2.6.1，创建数据表 T_category、T_product_review、T_product，其中产品表的产品 ID(Product_id)列设置为标识列，自动从 1 开始增长。<br>任务三：创建数据表间的关系及约束（15 分）<br>•创建主键（三个表均设置）；<br>•产品价格列（Price）只能输入 1-500 之间的数；<br>•录入时间列(Register_date)不能大于当前录入时间（三个表均设置）。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•在三个表中分别录入 3 条测试数据（样本数据包含下面题目中使用的数据）；<br>•查询某类别下评论数超过 3 条的所有产品的名称；<br>•查询产品价格超过 400 元的所有产品；<br>•创建名为 product_view1 的视图，视图中的数据包括录入日期在 2011 年 3 月到 6月之间的产品数据信息；<br>•删除上题中所创建的视图 product_view1；<br>•删除产品价格超过 400 的所有产品。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">--创建数据库</span><br><span class="line">create database ProductDB2</span><br><span class="line"></span><br><span class="line">--使用数据库</span><br><span class="line">use ProductDB2</span><br><span class="line"></span><br><span class="line">--创建表</span><br><span class="line">create table T_category(</span><br><span class="line">category_id int primary key IDENTITY(1,1),</span><br><span class="line">category_name varchar(30),</span><br><span class="line">register_date datetime</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--创建数据表</span><br><span class="line">create table T_product_review(</span><br><span class="line">review_id int primary key identity(1,1),</span><br><span class="line">product_id int,</span><br><span class="line">review varchar(2000),</span><br><span class="line">register_date datetime</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_product(</span><br><span class="line">product_id int primary key identity(1,1),</span><br><span class="line">category_id int,</span><br><span class="line">product_name varchar(50),</span><br><span class="line">price money,</span><br><span class="line">remark varchar(2000),</span><br><span class="line">register_date datetime</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--任务三：创建数据表间的关系及约束</span><br><span class="line">alter table T_product_review</span><br><span class="line">add constraint FK_T_product_review_product FOREIGN KEY(product_id) REFERENCES dbo.T_product(product_id)</span><br><span class="line"></span><br><span class="line">alter table dbo.T_product</span><br><span class="line">add constraint FK_T_product_category FOREIGN KEY(category_id) REFERENCES dbo.T_category(category_id)</span><br><span class="line"></span><br><span class="line">--产品价格列（Price）只能输入 1-500 之间的数；</span><br><span class="line">alter table dbo.T_product</span><br><span class="line">add constraint CK_T_product_price check ([price]&gt;(1)and[price]&lt;(500))</span><br><span class="line"></span><br><span class="line">--录入时间列(Register_date)不能大于当前录入时间（三个表均设置）。</span><br><span class="line">alter table dbo.T_category</span><br><span class="line">add constraint DF_T_category_register_date default (getdate()) for register_date</span><br><span class="line"></span><br><span class="line">--任务四：数据操作</span><br><span class="line"></span><br><span class="line">--在三个表中分别录入 3 条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line"></span><br><span class="line">insert into dbo.T_category(category_name,register_date) values (&apos;xx1&apos;,&apos;2011-3-1&apos;)</span><br><span class="line"></span><br><span class="line">insert into dbo.T_product(product_name,price,remark,register_date) values (&apos;xx333&apos;,&apos;410&apos;,&apos;xx333&apos;,&apos;2011-5-1&apos;)</span><br><span class="line"></span><br><span class="line">insert into dbo.T_product_review(review,register_date) values (&apos;xx1111&apos;,&apos;2011-5-1&apos;)</span><br><span class="line"></span><br><span class="line">--查询某类别下评论数超过 3 条的所有产品的名称；</span><br><span class="line">select product_name,price,remark,register_date from dbo.T_product p inner join</span><br><span class="line">(select product_id,COUNT(*) as revcount from dbo.T_product_review</span><br><span class="line">group by dbo.T_product_review.product_id</span><br><span class="line">having COUNT(*)&gt;3)t</span><br><span class="line">on p.product_id=t.product_id</span><br><span class="line"></span><br><span class="line">--查询产品价格超过 400 元的所有产品；</span><br><span class="line">select Product_name from dbo.T_product where price&gt;400</span><br><span class="line"></span><br><span class="line">--创建名为 product_view1 的视图，视图中的数据包括录入日期在 2011 年 3 月到 6月之间的产品数据信息；</span><br><span class="line">go</span><br><span class="line">create view product_view1</span><br><span class="line">as</span><br><span class="line">select * from dbo.T_product where YEAR(register_date)=2011 and MONTH(register_date) between 3 and 6</span><br><span class="line">go</span><br><span class="line"></span><br><span class="line">--删除上题中所创建的视图 product_view1；</span><br><span class="line">drop view product_view1</span><br><span class="line"></span><br><span class="line">--删除产品价格超过 400 的所有产品</span><br><span class="line">delete from dbo.T_product where price&gt;400</span><br></pre></td></tr></table></figure>

<h2 id="J2-7《学生食堂信息管理系统》饭卡管理模块"><a href="#J2-7《学生食堂信息管理系统》饭卡管理模块" class="headerlink" title="J2-7《学生食堂信息管理系统》饭卡管理模块"></a>J2-7《学生食堂信息管理系统》饭卡管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 CardDB。<br>任务二：创建数据表（25 分）<br>根据图 2.7.2 和表 2.7.1，创建数据表 T_card、T_add_money、T_consume_money，其中将饭卡表的饭卡编号  (card_id)列设置为标识列，自动从 1 开始增长。<br>任务三：创建数据表间的关系及约束（15 分）<br>•    创建表主键（三个表均设置）；<br>•    充值金额列（the_money）只能输入 50-200 之间的数；<br>•    录入时间列(register_date)默认值为当前录入时间（三个表均设置）。<br>任务四：数据操作（30 分）<br>用 SQL 语句查询出如下数据：<br>•    在每个表中插入 1 条测试数据（样本数据包含下面题目中使用的数据）；<br>•  查询所有饭卡信息；<br>•  查询所有饭卡的余额之和；<br>•  查询某日所有饭卡的充值金额之和(比如 2011 年 6 月 2 号总共充值金额是多少元)；<br>•  创建存储过程，根据某个学生的饭卡 ID 上的余额，判断该饭卡是否能进行一定金额的消费。（比如饭卡 ID 号为 1 的饭卡余额只有 3.5 元，则该饭卡不能购买 5.5元的中餐）。存储过程输入参数为饭卡 ID 号，本次消费金额，返回值为 true  或者false。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">create database CardDB</span><br><span class="line">ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;CardDB.mdf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-7\CardDB.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">LOG ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;CardDB.ldf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-7\CardDB.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use CardDB</span><br><span class="line"></span><br><span class="line">--创建 T_card</span><br><span class="line">create table T_card(</span><br><span class="line">card_id int IDENTITY(1,1),--饭卡编号</span><br><span class="line">student_id int ,-- 学生学号</span><br><span class="line">student_name varchar(50),--学生姓名</span><br><span class="line">curr_money money ,--饭卡余额</span><br><span class="line">register_date datetime ,--饭卡生成时间</span><br><span class="line">constraint PK_T_card_card_id primary  key clustered(card_id)</span><br><span class="line">) </span><br><span class="line"></span><br><span class="line">--创建T_add_money</span><br><span class="line">create table T_add_money(</span><br><span class="line">add_id int not null IDENTITY(1,1) primary key,--充值编号</span><br><span class="line">card_id int not null,--饭卡编号</span><br><span class="line">the_money money not null,--某次充值金额</span><br><span class="line">register_date datetime,--充值时间；默认值为当前录入时间</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line">--创建T_consume_money</span><br><span class="line">create table T_consume_money(</span><br><span class="line">consume_id int not null identity(1,1) primary key,--消费编号</span><br><span class="line">card_id int not null,--饭卡编号</span><br><span class="line">the_money money ,--本次消费金额</span><br><span class="line">register_date datetime,--消费时间</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--建立约束关系</span><br><span class="line">alter table T_add_money</span><br><span class="line">add constraint FK_T_add_money_T_card foreign key(card_id)</span><br><span class="line">references dbo.T_card(card_id)</span><br><span class="line"></span><br><span class="line">alter table T_consume_money</span><br><span class="line">add constraint FK_T_consume_money_T_card foreign key(card_id)</span><br><span class="line">references dbo.T_card(card_id)</span><br><span class="line"></span><br><span class="line">--充值金额列（the_money）只能输入 50-200 之间的数；</span><br><span class="line">alter table T_add_money</span><br><span class="line">add constraint CK_T_add_money_the_money </span><br><span class="line">check([the_money]&gt;(50) and [the_money]&lt;(200))</span><br><span class="line"></span><br><span class="line">--录入时间列(register_date)默认值为当前录入时间（三个表均设置）。</span><br><span class="line">alter table T_card</span><br><span class="line">add constraint DF_T_card_register_date default (getdate()) for register_date</span><br><span class="line"></span><br><span class="line">alter table T_add_money</span><br><span class="line">add constraint DF_T_add_money_register_date default (getdate()) for register_date</span><br><span class="line"></span><br><span class="line">alter table T_consume_money</span><br><span class="line">add constraint DF_T_consume_money_register_date default (getdate()) for register_date</span><br><span class="line"></span><br><span class="line">--在每个表中插入 1 条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line">insert into T_card</span><br><span class="line">(student_id,student_name,curr_money)</span><br><span class="line">values (&apos;1&apos;,&apos;张三&apos;,&apos;0&apos;)</span><br><span class="line"></span><br><span class="line">insert into T_add_money(card_id,the_money) values (&apos;1&apos;,&apos;60&apos;)</span><br><span class="line"></span><br><span class="line">insert into T_consume_money(card_id,the_money) values (&apos;1&apos;,&apos;20&apos;)</span><br><span class="line"></span><br><span class="line">--查询所有饭卡信息；</span><br><span class="line">select * from T_card</span><br><span class="line"></span><br><span class="line">--查询所有饭卡的余额之和；</span><br><span class="line">select SUM(curr_money) from T_card</span><br><span class="line"></span><br><span class="line">--查询某日所有饭卡的充值金额之和(比如 2011 年 6 月 2 号总共充值金额是多少元)；</span><br><span class="line">select SUM(the_money) as 充值金额 from dbo.T_add_money </span><br><span class="line">where YEAR(register_date)=2011 and MONTH(register_date)=06 and DAY(register_date)=02</span><br><span class="line"></span><br><span class="line">--创建存储过程，根据某个学生的饭卡 ID 上的余额，判断该饭卡是否能进行一定金额的消费。（比如饭卡 ID 号为 1 的饭卡余额只有 3.5 元，则该饭卡不能购买 5.5元的中餐）。存储过程输入参数为饭卡 ID 号，本次消费金额，返回值为 true  或者false。</span><br><span class="line">go</span><br><span class="line">create procedure IsAbleToCosume</span><br><span class="line">	@cardId int,</span><br><span class="line">	@thisCosume money</span><br><span class="line">as</span><br><span class="line">begin</span><br><span class="line">	declare @curr_money money --声明变量</span><br><span class="line">	set @curr_money=(select curr_money from T_card where card_id=@cardId)</span><br><span class="line">	print @curr_money	--输出</span><br><span class="line">	</span><br><span class="line">if(@curr_money=@thisCosume)</span><br><span class="line">return 1</span><br><span class="line">else </span><br><span class="line">return 0</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h2 id="J2-8《建设用地信息系统》行政管理模块"><a href="#J2-8《建设用地信息系统》行政管理模块" class="headerlink" title="J2-8《建设用地信息系统》行政管理模块"></a>J2-8《建设用地信息系统》行政管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 Proj。<br>任务二：创建数据表（25 分）<br>根据图 2.8.2 和表 2.8.1，创建数据表 T_proj_info、T_canton_info。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据关系表。<br>任务四：数据操作（30 分）<br>用 SQL 语句执行以下操作：<br>•    在每个表中插入 1 条测试数据（样本数据包含下面题目中使用的数据）；<br>•    查询出项目编号为“1”的建设用地基本信息；<br>•    查询出行政直属部门为“长沙市国土资源局”的建设用地基本信息；<br>•    查询出所有的建设土地基本信息并按农用地总面积升序排序；<br>•    删除耕地面积大于“720”的建设用地基本信息；<br>•    请把直属部门由“长沙市国土资源局”修改为“株洲市国土资源局”；<br>•    在行政区域信息表中插入数据，编号为“83100”，行政名称为“星沙”，行政面积为“142”，直属部门为“长沙市国土资源局”；<br>•    创建名为 ProjInfo_view1 的视图，视图的数据为编号是“1”的建设用地基本信息；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">create database Proj</span><br><span class="line">ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;Proj.mdf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-8\Proj.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">LOG ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;Proj.ldf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\1\SQL\J2-8\Proj.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use Proj</span><br><span class="line">--创建 T_proj_info</span><br><span class="line">create table  T_proj_info(</span><br><span class="line">proj_id int identity(1,1) primary key,--用地项目 ID</span><br><span class="line">canton_id int ,--行政区ID</span><br><span class="line">proj_name varchar(50),--项目名称</span><br><span class="line">proj_no varchar(5),--项目编号</span><br><span class="line">proj_type varchar(25),--项目类型</span><br><span class="line">proj_kind varchar(25),--项目性质</span><br><span class="line">tilth_state float ,--耕地面积</span><br><span class="line">farm_tot float ,--农用地总面积</span><br><span class="line">approve_unit varchar(50),--审批单位</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--创建T_canton_info</span><br><span class="line">create table T_canton_info(</span><br><span class="line">canton_id int identity(1,1) primary key,--行政区ID</span><br><span class="line">canton_tot float ,--行政区面积</span><br><span class="line">canton_no varchar(5),--行政区编号</span><br><span class="line">canton_name varchar(50),--行政区名称</span><br><span class="line">branch varchar(50),--直属部门</span><br><span class="line">remark text ,--备注</span><br><span class="line">)</span><br><span class="line">--创建数据表间的关系及约束</span><br><span class="line">alter table T_proj_info</span><br><span class="line">add constraint FK_T_proj_info_T_canton_info foreign key(canton_id)</span><br><span class="line">references T_canton_info(canton_id)</span><br><span class="line"></span><br><span class="line">--在每个表中插入 1 条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line">insert into T_canton_info</span><br><span class="line">(canton_tot,canton_no,canton_name,branch,remark)</span><br><span class="line">values(&apos;2000&apos;,&apos;83100&apos;,&apos;岳麓区&apos;,&apos;长沙市国土资源局&apos;,&apos;行政区用地信息&apos;)</span><br><span class="line"></span><br><span class="line">insert into T_proj_info</span><br><span class="line">(canton_id,proj_name,proj_no,proj_type,proj_kind,tilth_state,farm_tot,approve_unit)</span><br><span class="line">values(&apos;1&apos;,&apos;行政建设&apos;,&apos;1&apos;,&apos;行政建设类&apos;,&apos;行政&apos;,&apos;800&apos;,&apos;1800&apos;,&apos;长沙市政府&apos;)</span><br><span class="line"></span><br><span class="line">--查询出项目编号为“1”的建设用地基本信息；</span><br><span class="line">select * from dbo.T_proj_info where (proj_no=&apos;1&apos;)</span><br><span class="line"></span><br><span class="line">--查询出行政直属部门为“长沙市国土资源局”的建设用地基本信息；</span><br><span class="line">select * from  dbo.T_canton_info where (branch=&apos;长沙市国土资源局&apos;)</span><br><span class="line"></span><br><span class="line">--查询出所有的建设土地基本信息并按农用地总面积升序排序；</span><br><span class="line">select farm_tot from dbo.T_proj_info order by farm_tot</span><br><span class="line"></span><br><span class="line">--删除耕地面积大于“720”的建设用地基本信息；</span><br><span class="line">delete from dbo.T_proj_info where (tilth_state&gt;720)</span><br><span class="line"></span><br><span class="line">--请把直属部门由“长沙市国土资源局”修改为“株洲市国土资源局”；</span><br><span class="line">update dbo.T_canton_info set branch=&apos;株洲市国土资源局&apos; where branch=&apos;长沙市国土资源局&apos;</span><br><span class="line"></span><br><span class="line">--在行政区域信息表中插入数据，编号为“83100”，行政名称为“星沙”，行政面积为“142”，直属部门为“长沙市国土资源局”；</span><br><span class="line">insert into dbo.T_canton_info</span><br><span class="line">(canton_tot,canton_no,canton_name,branch,remark)</span><br><span class="line">values(&apos;142&apos;,&apos;83100&apos;,&apos;星沙&apos;,&apos;长沙市国土资源局&apos;,&apos;行政区用地信息&apos;)</span><br><span class="line"></span><br><span class="line">--创建名为 ProjInfo_view1 的视图，视图的数据为编号是“1”的建设用地基本信息；</span><br><span class="line">go</span><br><span class="line">create view ProjInfo_view1</span><br><span class="line">as </span><br><span class="line">select * from T_proj_info where (proj_no=&apos;1&apos;)</span><br><span class="line">go</span><br><span class="line"></span><br><span class="line">--删除上题中所创建的 ProjInfo_view1 视图。</span><br><span class="line">drop view ProjInfo_view1</span><br></pre></td></tr></table></figure>

<h2 id="J2-9《建设用地信息系统》地块管理模块"><a href="#J2-9《建设用地信息系统》地块管理模块" class="headerlink" title="J2-9《建设用地信息系统》地块管理模块"></a>J2-9《建设用地信息系统》地块管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 ContractionDB。<br>任务二：创建数据表（25 分）<br>根据图 2.9.2 和表 2.9.1，创建数据表 T_appr_area、T_plot_info。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据关系表。<br>任务四：数据操作（30 分）<br>用 SQL 语句执行以下操作：<br>•    在每个表中插入 1 条测试数据（样本数据包含下面题目中使用的数据）；<br>•    查询出地块编号为“10001”的建设用地的报批基本信息；<br>•    查询出地块名称为“长沙市天心花苑”的建设用地的报批基本信息；<br>•    查询出所有的地块基本信息并按地块面积升序排序；<br>•    删除地块面积大于“1100”的地块基本信息；<br>•    把地块名称为“长沙市天心花苑”修改为“株洲市天心花苑”；<br>•    在 T_plot_info 表中插入数据，(地块编号为“10006”，地块名称为“新型工业区”，地块面积为“1500”，地块用途为“工业用地”，图形类型为“长方形”的信息；<br>•    创建名为 Plot_id_view1 的视图，视图的数据为地块编号是“10005”的建设用地报批基本信息；<br>•    删除上题中所创建的 Plot_id_view1 视图。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">create database ContractionDB</span><br><span class="line">ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;ContractionDB.mdf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\sql\j2-9\ContractionDB.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">LOG ON</span><br><span class="line">(</span><br><span class="line">	NAME=&apos;ContractionDB.ldf&apos;,</span><br><span class="line">	FILENAME=&apos;E:\sql\j2-9\ContractionDB.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use ContractionDB</span><br><span class="line"></span><br><span class="line">create table T_appr_area(</span><br><span class="line">proj_id int identity(1,1) primary key ,--用地项目 ID</span><br><span class="line">proj_name varchar(50),--项目名称</span><br><span class="line">plot_id varchar(5) ,--地块编号</span><br><span class="line">appro_date datetime ,--审批时间</span><br><span class="line">appr_date datetime ,--报批时间</span><br><span class="line">appr_area float ,--报批面积</span><br><span class="line">appro_unit varchar(50) ,--审批单位</span><br><span class="line">)</span><br><span class="line">create table T_plot_info(</span><br><span class="line">plot_id varchar(50) primary key,--地块编号</span><br><span class="line">proj_id int ,--用地项目 ID</span><br><span class="line">total_area float ,--地块面积</span><br><span class="line">plot_name varchar(50),--地块名称</span><br><span class="line">purpose	varchar(50),--地块用途</span><br><span class="line">shape_type varchar(50),--图形类型</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--任务三：创建数据表间的关系及约束</span><br><span class="line">alter table T_plot_info</span><br><span class="line">add constraint FK_T_plot_info_T_appr_area foreign key(proj_id)</span><br><span class="line">references T_appr_area(proj_id)</span><br><span class="line"></span><br><span class="line">--任务四：数据操作</span><br><span class="line">--在每个表中插入 1 条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line">insert T_appr_area</span><br><span class="line">(proj_name,plot_id,appro_date,appr_date,appr_area,appro_unit)</span><br><span class="line">values(&apos;行政用地&apos;,&apos;10001&apos;,&apos;2011-01-01&apos;,&apos;2011-02-02&apos;,&apos;1111&apos;,&apos;长沙市政府&apos;)</span><br><span class="line"></span><br><span class="line">insert T_plot_info</span><br><span class="line">(plot_id,proj_id,total_area,plot_name,purpose,shape_type)</span><br><span class="line">values(&apos;10001&apos;,&apos;1&apos;,&apos;1000&apos;,&apos;中心商业区&apos;,&apos;商业用地&apos;,&apos;长方形&apos;)</span><br><span class="line"></span><br><span class="line">insert T_plot_info</span><br><span class="line">(plot_id,proj_id,total_area,plot_name,purpose,shape_type)</span><br><span class="line">values(&apos;10002&apos;,&apos;1&apos;,&apos;1100&apos;,&apos;中心商业区&apos;,&apos;商业用地&apos;,&apos;长方形&apos;)</span><br><span class="line"></span><br><span class="line">insert T_plot_info</span><br><span class="line">(plot_id,proj_id,total_area,plot_name,purpose,shape_type)</span><br><span class="line">values(&apos;10003&apos;,&apos;1&apos;,&apos;1100&apos;,&apos;长沙市天心花苑&apos;,&apos;商业用地&apos;,&apos;长方形&apos;)</span><br><span class="line"></span><br><span class="line">--查询出地块编号为“10001”的建设用地的报批基本信息；</span><br><span class="line">select * from dbo.T_plot_info where (plot_id=&apos;10001&apos;)</span><br><span class="line"></span><br><span class="line">--查询出地块名称为“长沙市天心花苑”的建设用地的报批基本信息；</span><br><span class="line">select * from dbo.T_plot_info where(plot_name=&apos;长沙市天心花苑&apos;)</span><br><span class="line"></span><br><span class="line">--查询出所有的地块基本信息并按地块面积升序排序；</span><br><span class="line">select total_area from dbo.T_plot_info order by total_area</span><br><span class="line"></span><br><span class="line">--删除地块面积大于“1100”的地块基本信息；</span><br><span class="line">delete from dbo.T_plot_info where(total_area&gt;&apos;1100&apos;)</span><br><span class="line"></span><br><span class="line">--把地块名称为“长沙市天心花苑”修改为“株洲市天心花苑”；</span><br><span class="line">update dbo.T_plot_info set plot_name=&apos;株洲市天心花苑&apos; where plot_name=&apos;长沙市天心花苑&apos;</span><br><span class="line"></span><br><span class="line">--在 T_plot_info 表中插入数据，(地块编号为“10006”，地块名称为“新型工业区”，地块面积为“1500”，地块用途为“工业用地”，图形类型为“长方形”的信息；</span><br><span class="line">insert T_plot_info</span><br><span class="line">(plot_id,total_area,plot_name,purpose,shape_type)</span><br><span class="line">values(&apos;10006&apos;,&apos;1500&apos;,&apos;新型工业区&apos;,&apos;工业用地&apos;,&apos;长方形&apos;)</span><br><span class="line"></span><br><span class="line">--创建名为 Plot_id_view1 的视图，视图的数据为地块编号是“10005”的建设用地报批基本信息</span><br><span class="line">go</span><br><span class="line">create view Plot_id_view1</span><br><span class="line">as </span><br><span class="line">select * from dbo.T_plot_info where (plot_id=&apos;10005&apos;)</span><br><span class="line">go</span><br><span class="line"></span><br><span class="line">--删除上题中所创建的 Plot_id_view1 视图。</span><br><span class="line">drop view Plot_id_view1</span><br></pre></td></tr></table></figure>

<h2 id="J2-10《学生管理系统》课程管理模块"><a href="#J2-10《学生管理系统》课程管理模块" class="headerlink" title="J2-10《学生管理系统》课程管理模块"></a>J2-10《学生管理系统》课程管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 Student。<br>任务二：创建数据表（25 分）<br>根据图 2.10.2 和表 2.10.1，创建数据表 T_student_info、T_course_info  、T_student_scores。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据关系。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•    向 T_student_info 表插入数据：“102011，刘德华，男，03/23/1991，2009，湖南长沙劳动东路 168 号”；<br>•    查询出 1991 年出生的学生信息；<br>•    查询选修了“数据结构”的学生姓名、平时成绩、期末成绩、总评成绩；<br>•    创建视图查询学生的学号、姓名、课程名、总评成绩；<br>•    统计每门课程的选课人数、最高分、平均分，并将统计结果保存在表 T_total 中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">create database Student</span><br><span class="line">on </span><br><span class="line">(</span><br><span class="line">	name=&apos;Student.mdf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-10\Student.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">log on</span><br><span class="line">(</span><br><span class="line">	name=&apos;Student.ldf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-10\Student.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use Student</span><br><span class="line"></span><br><span class="line">create table T_student_info(</span><br><span class="line">student_no char(6) primary key, --学号</span><br><span class="line">student_name  char (20),--姓名</span><br><span class="line">sex char(2),--性别</span><br><span class="line">birth datetime,--出生年月</span><br><span class="line">enter_date int,--入学年份</span><br><span class="line">address varchar(50),--家庭住址</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_course_info(</span><br><span class="line">course_no char(8) primary key,--课程编号</span><br><span class="line">course_name char(50),--课程名</span><br><span class="line">credit int,--学分</span><br><span class="line">classhour int,--学时</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_student_scores(</span><br><span class="line">course_no char(8),--课程编号</span><br><span class="line">student_no char(6),--学号</span><br><span class="line">ordinary_scores float,--平时成绩</span><br><span class="line">end_scores float ,--期末成绩</span><br><span class="line">total_scores float ,--总评成绩</span><br><span class="line">primary key(course_no,student_no)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--任务三：创建数据表间的关系及约束</span><br><span class="line">alter table T_student_scores</span><br><span class="line">add constraint FK_T_student_scores_T_course_info foreign key(course_no)</span><br><span class="line">references T_course_info(course_no)</span><br><span class="line"></span><br><span class="line">alter table T_student_scores</span><br><span class="line">add constraint FK_T_student_scores_T_student_info foreign key(student_no)</span><br><span class="line">references T_student_info(student_no)</span><br><span class="line"></span><br><span class="line">--任务四：数据操作</span><br><span class="line">--向 T_student_info 表插入数据：“102011，刘德华，男，03/23/1991，2009，湖南长沙劳动东路 168 号”；</span><br><span class="line">insert T_student_info values(&apos;102011&apos;,&apos;刘德华&apos;,&apos;男&apos;,&apos;03/23/1991&apos;,&apos;2009&apos;,&apos;湖南长沙劳动东路 168 号&apos;)</span><br><span class="line"></span><br><span class="line">--查询出 1991 年出生的学生信息</span><br><span class="line">select * from dbo.T_student_info where (birth=&apos;03/23/1991&apos;)</span><br><span class="line"></span><br><span class="line">--查询选修了“数据结构”的学生姓名、平时成绩、期末成绩、总评成绩；</span><br><span class="line">select student_name,ordinary_scores,end_scores,total_scores </span><br><span class="line">from dbo.T_student_info a ,dbo.T_student_scores b ,dbo.T_course_info</span><br><span class="line">where a.student_no=b.student_no and course_name=&apos;数据结构&apos;</span><br><span class="line"></span><br><span class="line">--创建视图查询学生的学号、姓名、课程名、总评成绩；</span><br><span class="line">go</span><br><span class="line">create view V_student</span><br><span class="line">as</span><br><span class="line">select T_student_info.student_no,student_name,course_name,total_scores</span><br><span class="line">from dbo.T_course_info c,dbo.T_student_info ,dbo.T_student_scores b</span><br><span class="line">where T_student_info.student_no=b.student_no and c.course_no=b.course_no</span><br><span class="line">go</span><br><span class="line"></span><br><span class="line">--统计每门课程的选课人数、最高分、平均分，并将统计结果保存在表 T_total 中。</span><br><span class="line"></span><br><span class="line">select COUNT (*) as 人数, max(T_student_scores.total_scores) as 最高分, avg(T_student_scores.total_scores) as 平均分</span><br><span class="line">into  T_tota </span><br><span class="line">from T_course_info INNER JOIN</span><br><span class="line">     T_student_scores on T_course_info.course_no = T_student_scores.course_no INNER JOIN</span><br><span class="line">     T_student_info on T_student_scores.student_no = T_student_info.student_no</span><br><span class="line">group by T_course_info.course_name</span><br></pre></td></tr></table></figure>

<h2 id="J2-11《学生管理系统》成绩管理模块"><a href="#J2-11《学生管理系统》成绩管理模块" class="headerlink" title="J2-11《学生管理系统》成绩管理模块"></a>J2-11《学生管理系统》成绩管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 Student。<br>任务二：创建数据表（25 分）<br>根据图 2.11.2 和表 2.11.1，创建数据表 T_student_info、T_course_info  、T_student_scores。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据关系。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•    向每个表插入 3 条测试数据（样本数据包含下面题目中使用的数据）；<br>•    查询出出生年份在 1988 年-1995 年的所有学生信息；<br>•    创建视图查询选修了“java 核心”的学生姓名、平时成绩、期末成绩、总评成绩；<br>•    删除学号为“s00001”的学生的所有成绩；<br>•    创建存储过程，统计每门课程的选课人数、最高分、平均分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">create database Student1</span><br><span class="line">on </span><br><span class="line">(</span><br><span class="line">	name=&apos;Student1.mdf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-11\Student1.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">log on</span><br><span class="line">(</span><br><span class="line">	name=&apos;Student1.ldf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-11\Student1.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use Student1</span><br><span class="line"></span><br><span class="line">create table T_student_info(</span><br><span class="line">student_no char(6) primary key, --学号</span><br><span class="line">student_name  char (20),--姓名</span><br><span class="line">sex char(2),--性别</span><br><span class="line">birth date,--出生年月</span><br><span class="line">enter_date integer,--入学年份</span><br><span class="line">address varchar(50),--家庭住址</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_course_info(</span><br><span class="line">course_no char(8) primary key,--课程编号</span><br><span class="line">course_name char(50),--课程名</span><br><span class="line">credit int,--学分</span><br><span class="line">classhour int,--学时</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_student_scores(</span><br><span class="line">course_no char(8),--课程编号</span><br><span class="line">student_no char(6),--学号</span><br><span class="line">ordinary_scores decimal(7,2),--平时成绩</span><br><span class="line">end_scores decimal(7,2) ,--期末成绩</span><br><span class="line">total_scores decimal(7,2) ,--总评成绩</span><br><span class="line">primary key(course_no,student_no)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--任务三：创建数据表间的关系及约束</span><br><span class="line">alter table T_student_scores</span><br><span class="line">add constraint FK_T_student_scores_T_course_info foreign key(course_no)</span><br><span class="line">references T_course_info(course_no)</span><br><span class="line"></span><br><span class="line">alter table T_student_scores</span><br><span class="line">add constraint FK_T_student_scores_T_student_info foreign key(student_no)</span><br><span class="line">references T_student_info(student_no)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--任务四：数据操作</span><br><span class="line">--向每个表插入 3 条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line">insert T_student_info </span><br><span class="line">values(&apos;s00001&apos;,&apos;张三&apos;,&apos;男&apos;,&apos;1988/05/22&apos;,&apos;2009&apos;,&apos;湖南长沙劳动东路1&apos;)</span><br><span class="line"></span><br><span class="line">insert T_student_info </span><br><span class="line">values(&apos;s00002&apos;,&apos;李四&apos;,&apos;男&apos;,&apos;1990/05/22&apos;,&apos;2009&apos;,&apos;湖南长沙劳动东路2&apos;)</span><br><span class="line"></span><br><span class="line">insert T_student_info </span><br><span class="line">values(&apos;s00003&apos;,&apos;王五&apos;,&apos;男&apos;,&apos;1995/05/22&apos;,&apos;2009&apos;,&apos;湖南长沙劳动东路3&apos;)</span><br><span class="line"></span><br><span class="line">insert T_course_info</span><br><span class="line">values(&apos;01&apos;,&apos;java核心&apos;,&apos;5&apos;,&apos;20&apos;)</span><br><span class="line"></span><br><span class="line">insert T_course_info</span><br><span class="line">values(&apos;02&apos;,&apos;java技术&apos;,&apos;5&apos;,&apos;20&apos;)</span><br><span class="line"></span><br><span class="line">insert T_course_info</span><br><span class="line">values(&apos;03&apos;,&apos;java应用&apos;,&apos;5&apos;,&apos;20&apos;)</span><br><span class="line"></span><br><span class="line">insert T_student_scores</span><br><span class="line">values(&apos;01&apos;,&apos;s00001&apos;,&apos;70&apos;,&apos;80&apos;,&apos;80&apos;)</span><br><span class="line"></span><br><span class="line">insert T_student_scores</span><br><span class="line">values(&apos;02&apos;,&apos;s00002&apos;,&apos;70&apos;,&apos;80&apos;,&apos;80&apos;)</span><br><span class="line"></span><br><span class="line">insert T_student_scores</span><br><span class="line">values(&apos;03&apos;,&apos;s00003&apos;,&apos;70&apos;,&apos;80&apos;,&apos;80&apos;)</span><br><span class="line">--查询出出生年份在 1988 年-1995 年的所有学生信息；</span><br><span class="line">select birth from T_student_info where (birth&gt;&apos;1988&apos; and birth&lt;&apos;1995&apos;)</span><br><span class="line"></span><br><span class="line">--创建视图查询选修了“java 核心”的学生姓名、平时成绩、期末成绩、总评成绩</span><br><span class="line">go </span><br><span class="line">create view V_sudent</span><br><span class="line">as</span><br><span class="line">select student_name,ordinary_scores,end_scores,total_scores</span><br><span class="line">from dbo.T_student_info,dbo.T_student_scores,dbo.T_course_info</span><br><span class="line">where course_name=&apos;java 核心&apos;</span><br><span class="line">go</span><br><span class="line">--删除学号为“s00001”的学生的所有成绩；</span><br><span class="line">delete ordinary_scores,end_scores,total_scores where student_no=&apos;s00001&apos;</span><br><span class="line">--创建存储过程，统计每门课程的选课人数、最高分、平均分。</span><br><span class="line">go</span><br><span class="line">create procedure tongji</span><br><span class="line">as</span><br><span class="line">begin</span><br><span class="line"> select course_no,COUNT(student_no) as 选课人数,MAX(total_scores) as 最高分,</span><br><span class="line"> AVG(total_scores) as 平均分 from T_student_scores</span><br><span class="line"> group by course_no</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h2 id="J2-12《学生管理系统》选课管理模块"><a href="#J2-12《学生管理系统》选课管理模块" class="headerlink" title="J2-12《学生管理系统》选课管理模块"></a>J2-12《学生管理系统》选课管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 StudentDB。<br>任务二：创建数据表（25 分）<br>根据图 2.12.2 和表 2.12.1，创建数据表 T_student、T_course、T_score。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据关系。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•    向每个表插入 3 条测试数据（样本数据包含下面题目中使用的数据）；<br>•    查询出所有选修了“数据库原理”课程的学生学号、姓名和籍贯；<br>•    删除所有选修“日语”的同学的选课记录；<br>•    查询出“数据库原理”这门课的最高成绩；<br>•    查询有哪些课程没有被任何同学选修；<br>•    创建视图，查询指定课程名称的平均成绩。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">create database StudentDB</span><br><span class="line">on </span><br><span class="line">(</span><br><span class="line">	name=&apos;StudentDB.mdf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-12\StudentDB.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">log on</span><br><span class="line">(</span><br><span class="line">	name=&apos;StudentDB.ldf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-12\StudentDB.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use StudentDB</span><br><span class="line"></span><br><span class="line">create table T_student(</span><br><span class="line">Stud_id varchar(10) primary key ,--学号</span><br><span class="line">Stud_name varchar(20) ,--姓名</span><br><span class="line">Stud_sex char(2),--性别</span><br><span class="line">Birth_date datetime ,--出生日期</span><br><span class="line">Entry_Date datetime,--入学日期</span><br><span class="line">Mobile varchar(11),--手机号码</span><br><span class="line">Birth_place varchar(30),--籍贯</span><br><span class="line">Reserve text,--备注</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_course(</span><br><span class="line">Course_id varchar(10) primary key,--课程编号</span><br><span class="line">Course_name varchar(100) ,--课程名称</span><br><span class="line">Teacher_name varchar(30),--教师姓名</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_score(</span><br><span class="line">Score_id bigint primary key ,--成绩编号</span><br><span class="line">Course_id varchar(10),--课程编号</span><br><span class="line">Stud_id varchar(10) ,--学号</span><br><span class="line">Score decimal(5,2),--成绩</span><br><span class="line">)</span><br><span class="line">--任务三：创建数据表间的关系及约束（15 分）</span><br><span class="line">alter table T_score</span><br><span class="line">add constraint FK_T_score_T_course foreign key(Course_id)</span><br><span class="line">references T_course(Course_id)</span><br><span class="line"></span><br><span class="line">alter table T_score</span><br><span class="line">add constraint FK_T_score_T_student foreign key(Stud_id)</span><br><span class="line">references dbo.T_student(Stud_id)</span><br><span class="line"></span><br><span class="line">--任务四：数据操作</span><br><span class="line">--向每个表插入 3 条测试数据（样本数据包含下面题目中使用的数据）；</span><br><span class="line">insert T_student</span><br><span class="line">values(&apos;201701&apos;,&apos;张三&apos;,&apos;男&apos;,&apos;1995/05/11&apos;,&apos;2017&apos;,&apos;123456798&apos;,&apos;湖南长沙&apos;,&apos;1&apos;)</span><br><span class="line"></span><br><span class="line">insert T_student</span><br><span class="line">values(&apos;201702&apos;,&apos;张一&apos;,&apos;男&apos;,&apos;1996/05/11&apos;,&apos;2017&apos;,&apos;12345638&apos;,&apos;湖南衡阳&apos;,&apos;2&apos;)</span><br><span class="line"></span><br><span class="line">insert T_student</span><br><span class="line">values(&apos;201703&apos;,&apos;张二&apos;,&apos;男&apos;,&apos;1994/05/11&apos;,&apos;2017&apos;,&apos;123456454&apos;,&apos;湖南常德&apos;,&apos;3&apos;)</span><br><span class="line"></span><br><span class="line">insert T_course</span><br><span class="line">values(&apos;01&apos;,&apos;数据库原理&apos;,&apos;李四&apos;)</span><br><span class="line"></span><br><span class="line">insert T_course</span><br><span class="line">values(&apos;02&apos;,&apos;日语&apos;,&apos;李四&apos;)</span><br><span class="line"></span><br><span class="line">insert T_course</span><br><span class="line">values(&apos;03&apos;,&apos;Java&apos;,&apos;李四&apos;)</span><br><span class="line"></span><br><span class="line">insert T_score</span><br><span class="line">values(1,&apos;01&apos;,&apos;201701&apos;,&apos;70&apos;)</span><br><span class="line"></span><br><span class="line">insert T_score</span><br><span class="line">values(2,&apos;01&apos;,&apos;201702&apos;,&apos;90&apos;)</span><br><span class="line"></span><br><span class="line">insert T_score</span><br><span class="line">values(3,&apos;01&apos;,&apos;201703&apos;,&apos;80&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--查询出所有选修了“数据库原理”课程的学生学号、姓名和籍贯；</span><br><span class="line">select T_student.Stud_id,Stud_name,Birth_place from dbo.T_student ,dbo.T_score b,dbo.T_course c</span><br><span class="line">where T_student.Stud_id=b.Stud_id and b.Course_id = c.Course_id and Course_name=&apos;数据库原理&apos;</span><br><span class="line"></span><br><span class="line">--删除所有选修“日语”的同学的选课记录；</span><br><span class="line">delete dbo.T_course where Course_name=&apos;日语&apos;</span><br><span class="line"></span><br><span class="line">--查询出“数据库原理”这门课的最高成绩；</span><br><span class="line">select MAX(Score),Course_name from T_score,T_course </span><br><span class="line">where T_course.Course_id=T_score.Course_id and Course_name=&apos;数据库原理&apos;</span><br><span class="line">group by  Course_name</span><br><span class="line"></span><br><span class="line">--查询有哪些课程没有被任何同学选修；</span><br><span class="line">select *from T_course where Course_id not in(select Course_id from T_score)</span><br><span class="line"></span><br><span class="line">--创建视图，查询指定课程名称的平均成绩。</span><br><span class="line">go</span><br><span class="line">create view v_score</span><br><span class="line">as</span><br><span class="line">select AVG(score) ,Course_name from T_course,T_score where Course_name=&apos;数据库原理&apos;</span><br><span class="line">group by Course_name</span><br><span class="line">go</span><br></pre></td></tr></table></figure>

<h2 id="J2-13《网上商店》商品管理模块"><a href="#J2-13《网上商店》商品管理模块" class="headerlink" title="J2-13《网上商店》商品管理模块"></a>J2-13《网上商店》商品管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 Stores。<br>任务二：创建数据表（25 分）<br>根据图 2.13.2 和表 2.13.1，创建数据表 T_goods、T_orders  、T_suppliers。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据表之间的关系。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•    在 3 个表中分别插入表 2.13.2-2.13.4 中的样本数据；<br>•    将商品名为“惠普笔记本”的价格下调 10%；<br>•    查询出商品编号为“1002”的总的订购数量；<br>•    查询出商品名称为“惠普笔记本”的商品的订购数量、总价；<br>•    创建存储过程 P_stored_proc，指定供应商代码，查询该供应商的订单信息；<br>•    查询所有名称包含“科技”的供应商编号、供应商名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">create database Stores</span><br><span class="line">on </span><br><span class="line">(</span><br><span class="line">	name=&apos;Stores.mdf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-13\Stores.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">log on</span><br><span class="line">(</span><br><span class="line">	name=&apos;Stores.ldf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-13\Stores.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use Stores</span><br><span class="line"></span><br><span class="line">create table T_suppliers(</span><br><span class="line">supp_code varchar(20) primary key ,--供应商编号</span><br><span class="line">supp_name varchar(50) ,--供应商名称</span><br><span class="line">)</span><br><span class="line">create table  T_goods(</span><br><span class="line">goods_id bigint identity(1,1) primary key,--商品编号</span><br><span class="line">supp_code varchar(20) ,--供应商编号</span><br><span class="line">goods_name varchar(50) ,--商品名称</span><br><span class="line">goods_price decimal(10,2),--商品价格</span><br><span class="line">goods_adress varchar(50),--生产地</span><br><span class="line">)</span><br><span class="line">create table T_orders(</span><br><span class="line">order_id bigint primary key ,--订单号码</span><br><span class="line">goods_id bigint ,--商品编号</span><br><span class="line">quantity int ,--订购数量</span><br><span class="line">total_price money ,--总价</span><br><span class="line">)</span><br><span class="line">--任务三：创建数据表间的关系及约束（15 分）</span><br><span class="line">alter table T_goods</span><br><span class="line">add constraint FK_T_goods_T_suppliers foreign key(supp_code)</span><br><span class="line">references T_suppliers(supp_code)</span><br><span class="line"></span><br><span class="line">alter table T_orders</span><br><span class="line">add constraint FK_T_orders_T_goods foreign key(goods_id)</span><br><span class="line">references T_goods(goods_id)</span><br><span class="line"></span><br><span class="line">--任务四：数据操作</span><br><span class="line">--在 3 个表中分别插入表 2.13.2-2.13.4 中的样本数据；</span><br><span class="line">insert T_suppliers values(430102,&apos;盛唐科技&apos;)</span><br><span class="line">insert T_suppliers values(540199,&apos;博士科技&apos;)</span><br><span class="line">insert T_suppliers values(440708,&apos;惠普科技&apos;)</span><br><span class="line"></span><br><span class="line">insert T_goods values(&apos;430102&apos;,&apos;盛唐笔记本&apos;,&apos;5600&apos;,&apos;广东&apos;)</span><br><span class="line">insert T_goods values(&apos;540199&apos;,&apos;博士笔记本&apos;,&apos;6700&apos;,&apos;台湾&apos;)</span><br><span class="line">insert T_goods values(&apos;440708&apos;,&apos;惠普笔记本&apos;,&apos;7800&apos;,&apos;广东&apos;)</span><br><span class="line"></span><br><span class="line">insert T_orders values(11070232,&apos;4&apos;,&apos;3&apos;,&apos;16800&apos;)</span><br><span class="line">insert T_orders values(11060343,&apos;2&apos;,&apos;1&apos;,&apos;7800&apos;)</span><br><span class="line">insert T_orders values(11050322,&apos;3&apos;,&apos;2&apos;,&apos;13400&apos;)</span><br><span class="line"></span><br><span class="line">--	将商品名为“惠普笔记本”的价格下调 10%；</span><br><span class="line">update dbo.T_goods set goods_price=goods_price*0.9 where goods_name=&apos;惠普笔记本&apos;</span><br><span class="line"></span><br><span class="line">--查询出商品编号为“1002”的总的订购数量；</span><br><span class="line">select quantity from dbo.T_orders where goods_id=&apos;2&apos;</span><br><span class="line"></span><br><span class="line">--查询出商品名称为“惠普笔记本”的商品的订购数量、总价；</span><br><span class="line">select quantity,total_price from T_orders,T_goods </span><br><span class="line">where T_orders.goods_id=T_goods.goods_id and goods_name=&apos;惠普笔记本&apos;</span><br><span class="line"></span><br><span class="line">--创建存储过程 P_stored_proc，指定供应商代码，查询该供应商的订单信息；</span><br><span class="line">go</span><br><span class="line">create procedure P_stored_proc</span><br><span class="line">as</span><br><span class="line">begin </span><br><span class="line">select * from dbo.T_orders a,dbo.T_goods b,dbo.T_suppliers c</span><br><span class="line">where a.goods_id=b.goods_id and b.supp_code=c.supp_code and c.supp_code=&apos;430102&apos;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">--查询所有名称包含“科技”的供应商编号、供应商名称。</span><br><span class="line">select supp_code,supp_name from T_suppliers where supp_name like&apos;%科技&apos;</span><br></pre></td></tr></table></figure>

<h2 id="J2-14《网上商店》订单管理模块"><a href="#J2-14《网上商店》订单管理模块" class="headerlink" title="J2-14《网上商店》订单管理模块"></a>J2-14《网上商店》订单管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 Stores。<br>任务二：创建数据表（25 分）<br>根据图 2.14.2 和表 2.14.1，创建数据表 T_goods、T_orders  、T_suppliers。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据表之间的关系。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•    在 3 个表中分别插入 3 条测试数据（样本数据包含下面题目中使用的数据）；<br>•    将商品名为“惠普笔记本”的价格上调 10%；<br>•    查询所有名称包含“笔记本”的商品编号、商品名称、商品价格；<br>•    查询出订购了供应商名称为“大金科技”的商品名称、订购数量、商品总价；<br>•    创建存储过程 P_stored_proc，指定商品编号，查询该商品的订单信息；<br>•    删除上题中创建的存储过程 P_stored_proc。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">create database Stores1</span><br><span class="line">on </span><br><span class="line">(</span><br><span class="line">	name=&apos;Stores1.mdf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-14\Stores1.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">log on</span><br><span class="line">(</span><br><span class="line">	name=&apos;Stores1.ldf&apos;,</span><br><span class="line">	filename=&apos;E:\sql\j2-14\Stores1.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use Stores1</span><br><span class="line"></span><br><span class="line">create table T_suppliers(</span><br><span class="line">supp_code varchar(20) primary key ,--供应商编号</span><br><span class="line">supp_name varchar(50) ,--供应商名称</span><br><span class="line">)</span><br><span class="line">create table  T_goods(</span><br><span class="line">goods_id bigint identity(1,1) primary key,--商品编号</span><br><span class="line">supp_code varchar(20) ,--供应商编号</span><br><span class="line">goods_name varchar(50) ,--商品名称</span><br><span class="line">goods_price decimal(10,2),--商品价格</span><br><span class="line">goods_adress varchar(50),--生产地</span><br><span class="line">)</span><br><span class="line">create table T_orders(</span><br><span class="line">order_id bigint primary key ,--订单号码</span><br><span class="line">goods_id bigint ,--商品编号</span><br><span class="line">quantity int ,--订购数量</span><br><span class="line">total_price money ,--总价</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">--任务三：创建数据表间的关系及约束（15 分）</span><br><span class="line">alter table T_goods</span><br><span class="line">add constraint FK_T_goods_T_suppliers foreign key(supp_code)</span><br><span class="line">references T_suppliers(supp_code)</span><br><span class="line"></span><br><span class="line">alter table T_orders</span><br><span class="line">add constraint FK_T_orders_T_goods foreign key(goods_id)</span><br><span class="line">references T_goods(goods_id)</span><br><span class="line"></span><br><span class="line">--任务四：数据操作</span><br><span class="line">--在 3 个表中分别插入表 2.13.2-2.13.4 中的样本数据；</span><br><span class="line">insert T_suppliers values(430102,&apos;盛唐科技&apos;)</span><br><span class="line">insert T_suppliers values(540199,&apos;博士科技&apos;)</span><br><span class="line">insert T_suppliers values(440708,&apos;惠普科技&apos;)</span><br><span class="line"></span><br><span class="line">insert T_goods values(&apos;430102&apos;,&apos;盛唐笔记本&apos;,&apos;5600&apos;,&apos;广东&apos;)</span><br><span class="line">insert T_goods values(&apos;540199&apos;,&apos;博士笔记本&apos;,&apos;6700&apos;,&apos;台湾&apos;)</span><br><span class="line">insert T_goods values(&apos;440708&apos;,&apos;惠普笔记本&apos;,&apos;7800&apos;,&apos;广东&apos;)</span><br><span class="line"></span><br><span class="line">insert T_orders values(11070232,&apos;1000&apos;,&apos;3&apos;,&apos;16800&apos;)</span><br><span class="line">insert T_orders values(11060343,&apos;1002&apos;,&apos;1&apos;,&apos;7800&apos;)</span><br><span class="line">insert T_orders values(11050322,&apos;1001&apos;,&apos;2&apos;,&apos;13400&apos;)</span><br><span class="line"></span><br><span class="line">--将商品名为“惠普笔记本”的价格上调 10%；</span><br><span class="line">update dbo.T_goods set goods_price=goods_price*(1+0.1) where goods_name=&apos;惠普笔记本&apos;</span><br><span class="line"></span><br><span class="line">--查询所有名称包含“笔记本”的商品编号、商品名称、商品价格；</span><br><span class="line">select goods_id as 商品编号,goods_name as 商品名称,goods_price as 商品价格</span><br><span class="line">from dbo.T_goods where goods_name like&apos;%笔记本&apos;</span><br><span class="line"></span><br><span class="line">--查询出订购了供应商名称为“大金科技”的商品名称、订购数量、商品总价；</span><br><span class="line">select goods_name as 商品名称,quantity as 订购数量,total_price as 商品总价</span><br><span class="line">from dbo.T_goods a,dbo.T_orders b,dbo.T_suppliers c</span><br><span class="line">where a.goods_id=b.goods_id and a.supp_code=c.supp_code and supp_name=&apos;大金科技&apos;</span><br><span class="line"></span><br><span class="line">--创建存储过程 P_stored_proc，指定商品编号，查询该商品的订单信息；</span><br><span class="line">go</span><br><span class="line">create procedure P_stored_proc</span><br><span class="line">as</span><br><span class="line">begin</span><br><span class="line">select *from dbo.T_orders where goods_id=&apos;430102&apos;</span><br><span class="line">end </span><br><span class="line">go</span><br><span class="line">--删除上题中创建的存储过程 P_stored_proc。</span><br><span class="line">drop procedure P_stored_proc</span><br></pre></td></tr></table></figure>

<h2 id="J2-15《码头中心船货申报系统》危险品管理模块"><a href="#J2-15《码头中心船货申报系统》危险品管理模块" class="headerlink" title="J2-15《码头中心船货申报系统》危险品管理模块"></a>J2-15《码头中心船货申报系统》危险品管理模块</h2><p>任务一：创建数据库（10 分）<br>创建数据库 HarborBereau1。<br>任务二：创建数据表（25 分）<br>根据图 2.15.2 和表 2.15.1，创建数据表 T_fee_unit、T_danger_cargo_license、T_business_unit。<br>任务三：创建数据表间的关系及约束（15 分）<br>根据物理数据原型，创建数据表之间的关系。<br>•    经营单位类型只允许有：国营经济、私营经济、个体经济、集体经济、股份制经济五种；<br>•    是否有效字段默认为：否。<br>任务四：数据操作（30 分）<br>用 SQL 语句完成如下操作：<br>•    在 T_business_unit 表插入数据：“J2009302，振华港机，上海浦东，集体经济”；<br>•    查询简称为“振华港机”的经营单位所对应的收费单位名称和收费单位电话；<br>•    创建存储过程，查询经营类型为“集体经济”的经营单位由哪些收费单位收费，查询这些收费单位的名称、电话号码和地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">create database HarborBereau1</span><br><span class="line">on</span><br><span class="line">(</span><br><span class="line">	name=&apos;HarborBereau1.mdf&apos;,</span><br><span class="line">	filename=&apos;F:\sql\j2-15\HarborBereau1.mdf&apos;--,</span><br><span class="line">)</span><br><span class="line">log on</span><br><span class="line">(</span><br><span class="line">	name=&apos;HarborBereau1.ldf&apos;,</span><br><span class="line">	filename=&apos;F:\sql\j2-15\HarborBereau1.ldf&apos;--,</span><br><span class="line">)</span><br><span class="line">use HarborBereau1</span><br><span class="line"></span><br><span class="line">create table T_fee_unit(</span><br><span class="line">feeunit_id char(8) primary key,--收费单位 ID</span><br><span class="line">feeunit_name varchar(64) not null,--收费单位名称</span><br><span class="line">feeunit_phone varchar(20) not null ,--收费单位电话号码</span><br><span class="line">feeunit_address varchar(50) not null ,--收费单位地址</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_business_unit(</span><br><span class="line">businessunit_code char(8) primary key ,--经营单位 ID</span><br><span class="line">short_name varchar(32) not null,--经营单位简称</span><br><span class="line">address varchar(64) not null,--经营单位地址</span><br><span class="line">type  varchar(50) not null,--经营单位类型</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">create table T_danger_cargo_license(</span><br><span class="line">license_id char(30) ,--证书 ID</span><br><span class="line">location varchar(50) not null,--发证地址</span><br><span class="line">number int not null,--数量</span><br><span class="line">businessunit_code char(8),--经营单位 ID</span><br><span class="line">address varchar(60) not null,--经营地址</span><br><span class="line">effective_date datetime not null,--有效日期</span><br><span class="line">licens_department varchar(50) not null,--发证部门</span><br><span class="line">license_date datetime not null,--发证日期</span><br><span class="line">version bigint,--证书版本</span><br><span class="line">is_active char(2),--是否有效</span><br><span class="line">)</span><br><span class="line">create table T_relation_businessunit_feeunit(</span><br><span class="line">businessunit_code char(8) ,--经营单位 ID</span><br><span class="line">feeunit_id char(8) ,--收费单位 ID</span><br><span class="line">primary key(businessunit_code,feeunit_id)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">alter table T_danger_cargo_license</span><br><span class="line">add constraint FK_T_danger_cargo_license_T_business_unit foreign key(businessunit_code)</span><br><span class="line">references T_business_unit(businessunit_code)</span><br><span class="line"></span><br><span class="line">alter table T_relation_businessunit_feeunit</span><br><span class="line">add constraint FK_T_relation_businessunit_feeunit_T_business_unit foreign key(businessunit_code)</span><br><span class="line">references T_business_unit(businessunit_code)</span><br><span class="line"></span><br><span class="line">alter table T_relation_businessunit_feeunit</span><br><span class="line">add constraint FK_T_relation_businessunit_feeunit_T_fee_unit foreign key(feeunit_id)</span><br><span class="line">references T_fee_unit(feeunit_id)</span><br><span class="line"></span><br><span class="line">--经营单位类型只允许有：国营经济、私营经济、个体经济、集体经济、股份制经济五种；</span><br><span class="line">alter table T_business_unit</span><br><span class="line">add constraint check_type check(type in(&apos;国营经济&apos;, &apos;私营经济&apos;,&apos;个体经济&apos; , &apos;集体经济&apos; , &apos;股份制经济&apos;))</span><br><span class="line"></span><br><span class="line">--是否有效字段默认为：否。</span><br><span class="line">alter table T_danger_cargo_license</span><br><span class="line">add constraint default_is_active  default&apos;否&apos; for is_active</span><br><span class="line"></span><br><span class="line">--在 T_business_unit 表插入数据：“J2009302，振华港机，上海浦东，集体经济”；</span><br><span class="line">insert T_business_unit values(&apos;J2009302&apos;,&apos;振华港机&apos;,&apos;上海浦东&apos;,&apos;集体经济&apos;)</span><br><span class="line"></span><br><span class="line">--查询简称为“振华港机”的经营单位所对应的收费单位名称和收费单位电话；</span><br><span class="line">select feeunit_name as 收费单位名称,feeunit_phone as 收费单位电话</span><br><span class="line">from T_fee_unit a,T_business_unit b, T_relation_businessunit_feeunit c  </span><br><span class="line">where a.feeunit_id=c.feeunit_id and b.businessunit_code=c.businessunit_code  and short_name=&apos;振华港机&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--创建存储过程，查询经营类型为“集体经济”的经营单位由哪些收费单位收费，查询这些收费单位的名称、电话号码和地址。</span><br><span class="line">go</span><br><span class="line">create procedure procedureType</span><br><span class="line">as</span><br><span class="line">begin</span><br><span class="line">select feeunit_name as  收费单位名称 from T_fee_unit a,T_business_unit b, T_relation_businessunit_feeunit c </span><br><span class="line">where a.feeunit_id=c.feeunit_id and b.businessunit_code=c.businessunit_code  and  type=&apos;集体经济&apos;</span><br><span class="line">end</span><br><span class="line">go</span><br></pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/试题/" rel="tag"><i class="fa fa-tag"></i> 试题</a>
          
            <a href="/tags/数据库/" rel="tag"><i class="fa fa-tag"></i> 数据库</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/03/模块一  程序设计/" rel="next" title="模块一  程序设计">
                <i class="fa fa-chevron-left"></i> 模块一  程序设计
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/725f8fcc9a8f418596015e397d26f477!400x400.jpeg" alt="山谷">
            
              <p class="site-author-name" itemprop="name">山谷</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-1《建设工程监管信息系统》系统权限管理模块"><span class="nav-number">1.</span> <span class="nav-text">J2-1《建设工程监管信息系统》系统权限管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-2《建设工程监管信息系统》流程管理模块"><span class="nav-number">2.</span> <span class="nav-text">J2-2《建设工程监管信息系统》流程管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-3《银行信贷管理系统》客户管理模块"><span class="nav-number">3.</span> <span class="nav-text">J2-3《银行信贷管理系统》客户管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-4《银行信贷管理系统》台帐管理模块"><span class="nav-number">4.</span> <span class="nav-text">J2-4《银行信贷管理系统》台帐管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-5《某电子商务网站》产品管理模块"><span class="nav-number">5.</span> <span class="nav-text">J2-5《某电子商务网站》产品管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-6《某电子商务网站》评论管理模块"><span class="nav-number">6.</span> <span class="nav-text">J2-6《某电子商务网站》评论管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-7《学生食堂信息管理系统》饭卡管理模块"><span class="nav-number">7.</span> <span class="nav-text">J2-7《学生食堂信息管理系统》饭卡管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-8《建设用地信息系统》行政管理模块"><span class="nav-number">8.</span> <span class="nav-text">J2-8《建设用地信息系统》行政管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-9《建设用地信息系统》地块管理模块"><span class="nav-number">9.</span> <span class="nav-text">J2-9《建设用地信息系统》地块管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-10《学生管理系统》课程管理模块"><span class="nav-number">10.</span> <span class="nav-text">J2-10《学生管理系统》课程管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-11《学生管理系统》成绩管理模块"><span class="nav-number">11.</span> <span class="nav-text">J2-11《学生管理系统》成绩管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-12《学生管理系统》选课管理模块"><span class="nav-number">12.</span> <span class="nav-text">J2-12《学生管理系统》选课管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-13《网上商店》商品管理模块"><span class="nav-number">13.</span> <span class="nav-text">J2-13《网上商店》商品管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-14《网上商店》订单管理模块"><span class="nav-number">14.</span> <span class="nav-text">J2-14《网上商店》订单管理模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#J2-15《码头中心船货申报系统》危险品管理模块"><span class="nav-number">15.</span> <span class="nav-text">J2-15《码头中心船货申报系统》危险品管理模块</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">山谷</span>

  
</div>


  <!-- <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>
-->




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  


  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
</body>
</html>
  <!-- 页面点击小桃心-->
  <script type="text/javascript" src="/js/src/love.js"></script>